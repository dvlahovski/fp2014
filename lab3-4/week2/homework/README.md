# Второ домашно по функционално програмиране

Решенията на задачите се предават по e-mail на адрес:

>fp2014.fmi@gmail.com

Решението на всяка задача трябва да бъде под формата на файл с окончание `.scm*` който да съдържа дефиницията на функцията (със точната сигнатура дефинирана в условието на задачата) и евентуално други помощни дефиниции, необходими за реализацията.

Файловете се изпращат като *attachment-и* в *mail-a*.

Освен решения на задачите самият *mail* трябва да съдържа име, група и факултен номер. Успех!

## Задача 1 - Lychrel numbers

Числа на [Lychrel](http://en.wikipedia.org/wiki/Lychrel_number) наричаме такива естествени числа `х`, за които е вярно, че като ги съберем с числото `у` получено от цифрите на `х` записани в обратен ред и повторим процеса с новополучените числа краен брой пъти не може да получим палиндром.

Ще казваме, че за едно число `х` може да се докаже, че не е число на `Lychrel` в 1 стъпка, ако е в сила, че като съберем `х` с числото, получено от цифрите на `х`, записани в обратен ред се получава палиндром. Едно такова число е например `56`, тъй като `56 + 65 = 121` (палиндром)

Във файл `lychrel.scm`, да се напише функция `non-lychrel-sum`, която приема 2 аргумента - числа `a` и `b` и връща сумата на всички числа в интервала `[a, b]`, за които може да се докаже, че не са числа на `Lychrel` в 1 стъпка.

**Сигнатура:**

```scm
(define (non-lychrel-sum a b) ...)
```

**Примери:**

```scm
(non-lychrel-sum 10 30) ;резултат 373
(non-lychrel-sum 40 60) ;резултат 678
(non-lychrel-sum 70 80) ;резултат 367
(non-lychrel-sum 110 200) ;резултат 4844
```

### Hint

Ползвайте функции, които вече сме писали! Решението трябва да изглежда сравнително елегантно.

## Задача 2 - Hack Number

"Хакерско число" наричаме такова число, което изпълнява следните два критерия:

* Числото, представено в двоична бройна система е палиндром
* Броят на единиците в двоичния запис на числото е нечетен


Примерни "Хакерски" числа:

* 1 e `1` в двоичен вид
* 7 е `111`в двоичен вид
* 7919 е `1111011101111` в двоичен вид

Във файл `hack.scm` напишете функция `is-hack-number?`, която има следната сигнатура:

```scheme
(define (is-hack-number? n) ... )
```

Фунцията трябва да връща истина, ако подаденото число `n` е "Хакерско". Иначе - false

### Примери

```scheme
> (is-hack-number? 1)
#t
> (is-hack-number? 7)
#t
> (is-hack-number? 8190)
#f
> (is-hack-number? 7919)
#t
```

### Подксазки

Привидно, задачата изглежда трудна. Ние искаме да я решим лесно и елегантно.

Помислете как да решите всички подпроблеми на тази задача:

* Да проверите дали числото, записано в двоичен запис е палиндром
* Да проверите дали числото, записано в двоичен запис има нечетен брой 1ци

Функцията `number->string` приема втори аргумент, което е бройната система, в която превръща числото.

Пример:

```scheme
(number->string 101 2)
"1100101"
```

Имаме и обратната функция - `string->number`, която обръща string в число:

```scheme
(string->number (number->string 101 2))
1100101
```

Вече трябва да имате идея как да решите двете подзадачи ;)

## Задача 3

Напишете функция `sum-of-prime-divisors`, която приема число `n` и връща сумата
от простите му делители.

Приемете, че в 0 и 1 методът е недефиниран.

### Сигнатура:

```scheme
(define (sum-of-prime-divisors n) ...)
```

### Примери:

```scheme
> (sum-of-prime-divisors 4)
2
> (sum-of-prime-divisors 10)
7
>(sum-of-prime-divisors 36)
5
>(sum-of-prime-divisors 42)
12
>(sum-of-prime-divisors 17)
17
```
